# install.packages("dplyr")
# install.packages("countrycode")

# Load the dplyr package
library(dplyr)
library(countrycode)

# Read the database

votes <- readRDS("Data/votes.rds")


# Print the votes dataset
votes

# Filter for votes that are "yes", "abstain", or "no"
votes %>%
  filter(vote %in% c(1,2,3))

# Add another %>% step to add a year column 1945 starts and add with sessions
votes %>%
  filter(vote <= 3) %>%
  mutate(year = session + 1945)


# Add a country column within the mutate: votes_processed
votes_processed <- votes %>%
  filter(vote <= 3) %>%
  mutate(
    year = session + 1945,
    country = countrycode(ccode, "cown", "country.name")
  )

# ccode = 260 dont have a name, we found the name of the code that is "indiana"

votes_processed <- votes_processed %>% 
  filter(ccode == 260) %>% 
  mutate(country = "Indiana")
  

  
  
  
  
  
  
  

